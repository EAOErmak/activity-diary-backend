<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
        http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.23.xsd">

    <!-- ========================================================= -->
    <!-- USERS -->
    <!-- ========================================================= -->

    <changeSet id="idx-001-users-role" author="init">
        <createIndex tableName="users" indexName="idx_users_role">
            <column name="role"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-002-users-account-locked" author="init">
        <createIndex tableName="users" indexName="idx_users_account_locked">
            <column name="account_locked"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- DICTIONARY ITEM -->
    <!-- ========================================================= -->

    <changeSet id="idx-010-dict-type" author="init">
        <createIndex tableName="dictionary_item" indexName="idx_dictionary_item_type">
            <column name="type"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-011-dict-active" author="init">
        <createIndex tableName="dictionary_item" indexName="idx_dictionary_item_active">
            <column name="active"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- DICTIONARY SUGGESTION -->
    <!-- ========================================================= -->

    <changeSet id="idx-020-dict-suggestion-user" author="init">
        <createIndex tableName="dictionary_suggestion" indexName="idx_dict_suggestion_user">
            <column name="user_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-021-dict-suggestion-status" author="init">
        <createIndex tableName="dictionary_suggestion" indexName="idx_dict_suggestion_status">
            <column name="status"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-022-dict-suggestion-type" author="init">
        <createIndex tableName="dictionary_suggestion" indexName="idx_dict_suggestion_type">
            <column name="dict_type"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- DIARY ENTRY -->
    <!-- ========================================================= -->

    <changeSet id="idx-030-diary-user" author="init">
        <createIndex tableName="diary_entry" indexName="idx_diary_user">
            <column name="user_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-031-diary-when-started" author="init">
        <createIndex tableName="diary_entry" indexName="idx_diary_when_started">
            <column name="when_started"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-032-diary-status" author="init">
        <createIndex tableName="diary_entry" indexName="idx_diary_status">
            <column name="status"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- ACTIVITY ITEM -->
    <!-- ========================================================= -->

    <changeSet id="idx-040-activity-diary" author="init">
        <createIndex tableName="activity_item" indexName="idx_activity_diary_entry">
            <column name="diary_entry_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-041-activity-name" author="init">
        <createIndex tableName="activity_item" indexName="idx_activity_name">
            <column name="dict_name_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-042-activity-unit" author="init">
        <createIndex tableName="activity_item" indexName="idx_activity_unit">
            <column name="dict_unit_id"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- LOGIN EVENT -->
    <!-- ========================================================= -->

    <changeSet id="idx-050-login-user" author="init">
        <createIndex tableName="login_event" indexName="idx_login_user">
            <column name="user_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-051-login-created" author="init">
        <createIndex tableName="login_event" indexName="idx_login_created_at">
            <column name="created_at"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-052-login-ip" author="init">
        <createIndex tableName="login_event" indexName="idx_login_ip">
            <column name="ip"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- REGISTRATION EVENT -->
    <!-- ========================================================= -->

    <changeSet id="idx-060-registration-user" author="init">
        <createIndex tableName="registration_event" indexName="idx_registration_user">
            <column name="user_id"/>
        </createIndex>
    </changeSet>

    <!-- ========================================================= -->
    <!-- REFRESH TOKEN -->
    <!-- ========================================================= -->

    <changeSet id="idx-070-refresh-user" author="init">
        <createIndex tableName="refresh_token" indexName="idx_refresh_token_user">
            <column name="user_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="idx-071-refresh-revoked" author="init">
        <createIndex tableName="refresh_token" indexName="idx_refresh_token_revoked">
            <column name="revoked"/>
        </createIndex>
    </changeSet>

</databaseChangeLog>
